{"version":3,"sources":["../src/array-for-each-x.js"],"names":[],"mappings":"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","file":"array-for-each-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport splitIfBoxedBug from 'split-if-boxed-bug-x';\nimport toLength from 'to-length-x';\nimport toObject from 'to-object-x';\nimport assertIsFunction from 'assert-is-function-x';\nimport requireObjectCoercible from 'require-object-coercible-x';\nimport toBoolean from 'to-boolean-x';\n\nconst nfe = [].forEach;\nconst nativeForEach = typeof nfe === 'function' && nfe;\n\nconst test1 = function test1() {\n  let spy = 0;\n  const res = attempt.call([1, 2], nativeForEach, (item) => {\n    spy += item;\n  });\n\n  return res.threw === false && typeof res.value === 'undefined' && spy === 3;\n};\n\nconst test2 = function test2() {\n  let spy = '';\n  const res = attempt.call({}.constructor('abc'), nativeForEach, (item) => {\n    spy += item;\n  });\n\n  return res.threw === false && typeof res.value === 'undefined' && spy === 'abc';\n};\n\nconst test3 = function test3() {\n  let spy = 0;\n  const res = attempt.call(\n    (function getArgs() {\n      /* eslint-disable-next-line prefer-rest-params */\n      return arguments;\n    })(1, 2, 3),\n    nativeForEach,\n    function spyAdd1(item) {\n      spy += item;\n    },\n  );\n\n  return res.threw === false && typeof res.value === 'undefined' && spy === 6;\n};\n\nconst test4 = function test4() {\n  let spy = 0;\n  const res = attempt.call({0: 1, 1: 2, 3: 3, 4: 4, length: 4}, nativeForEach, function spyAdd2(item) {\n    spy += item;\n  });\n\n  return res.threw === false && typeof res.value === 'undefined' && spy === 6;\n};\n\nconst test5 = function test5() {\n  const doc = typeof document !== 'undefined' && document;\n\n  if (doc) {\n    let spy = null;\n    const fragment = doc.createDocumentFragment();\n    const div = doc.createElement('div');\n    fragment.appendChild(div);\n    const res = attempt.call(fragment.childNodes, nativeForEach, function spyAssign(item) {\n      spy = item;\n    });\n\n    return res.threw === false && typeof res.value === 'undefined' && spy === div;\n  }\n\n  return true;\n};\n\nconst test6 = function test6() {\n  const isStrict = (function returnIsStrict() {\n    /* eslint-disable-next-line babel/no-invalid-this */\n    return toBoolean(this) === false;\n  })();\n\n  if (isStrict) {\n    let spy = null;\n\n    const thisTest = function thisTest() {\n      /* eslint-disable-next-line babel/no-invalid-this */\n      spy = typeof this === 'string';\n    };\n\n    const res = attempt.call([1], nativeForEach, thisTest, 'x');\n\n    return res.threw === false && typeof res.value === 'undefined' && spy === true;\n  }\n\n  return true;\n};\n\nconst test7 = function test7() {\n  const spy = {};\n  const fn =\n    'return nativeForEach.call(\"foo\", function (_, __, context) {' +\n    'if (toBoolean(context) === false || typeof context !== \"object\") {' +\n    'spy.value = true;}});';\n\n  /* eslint-disable-next-line no-new-func */\n  const res = attempt(Function('nativeForEach', 'spy', 'toBoolean', fn), nativeForEach, spy, toBoolean);\n\n  return res.threw === false && typeof res.value === 'undefined' && spy.value !== true;\n};\n\nconst isWorking = toBoolean(nativeForEach) && test1() && test2() && test3() && test4() && test5() && test6() && test7();\n\nconst patchedNative = function forEach(array, callBack /* , thisArg */) {\n  requireObjectCoercible(array);\n  const args = [assertIsFunction(callBack)];\n\n  if (arguments.length > 2) {\n    /* eslint-disable-next-line prefer-rest-params,prefer-destructuring */\n    args[1] = arguments[2];\n  }\n\n  return nativeForEach.apply(array, args);\n};\n\nexport const implementation = function forEach(array, callBack /* , thisArg */) {\n  const object = toObject(array);\n  // If no callback function or if callback is not a callable function\n  assertIsFunction(callBack);\n  const iterable = splitIfBoxedBug(object);\n  const length = toLength(iterable.length);\n  /* eslint-disable-next-line no-void,prefer-rest-params */\n  const thisArg = arguments.length > 2 ? arguments[2] : void 0;\n  const noThis = typeof thisArg === 'undefined';\n  for (let i = 0; i < length; i += 1) {\n    if (i in iterable) {\n      if (noThis) {\n        callBack(iterable[i], i, object);\n      } else {\n        callBack.call(thisArg, iterable[i], i, object);\n      }\n    }\n  }\n};\n\n/**\n * This method executes a provided function once for each array element.\n *\n * @param {Array} array - The array to iterate over.\n * @param {Function} callBack - Function to execute for each element.\n * @param {*} [thisArg] - Value to use as this when executing callback.\n * @throws {TypeError} If array is null or undefined.\n * @throws {TypeError} If callBack is not a function.\n */\nconst $forEach = isWorking ? patchedNative : implementation;\n\nexport default $forEach;\n"]}